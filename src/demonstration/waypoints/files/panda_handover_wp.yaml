- id: 1
  description: "start position"
  targets:
    - device: "panda_01"
      ee_target: "home_panda_01"
    - device: "panda_02"
      ee_target: "home_panda_02"

#############################################################
# START PICK-UP #############################################
#############################################################
- id: 2
  description: "move panda_02 above cuboid"
  targets:
    - device: "panda_01"
      ee_target: "wp_1"
    - device: "panda_02"
      ee_target: "pre_pick_up_panda_02"
      
- id: 3
  description: "close gripper of panda_02"
  targets:
    - device: "panda_01"
      ee_target: "wp_2"
    - device: "panda_02"
      pos: "wp_2 + [0, 0, -0.05]"
      quat: "wp_2"
      grip: "OPEN"

- id: 4
  description: "close gripper of panda_02"
  targets:
    - device: "panda_01"
      ee_target: "wp_3"
    - device: "panda_02"
      pos: "wp_3"
      quat: "wp_3"
      grip: "CLOSED"
  
- id: 5
  description: "move panda_02 up"
  targets:
    - device: "panda_01"
      ee_target: "wp_4"
    - device: "panda_02"
      pos: "wp_2"
      quat: "wp_4"
      grip: "CLOSED"
#############################################################
# END PICK-UP ###############################################
#############################################################


- id: 6
  description: "move panda_02 to handover position and panda_01 close"
  targets:
    - device: "panda_01"
      pos: [ 0.36, 0.2, 0.4 ]
      ax_angle: [ 1, 0, 0, 1.5707963 ]
      grip: "OPEN"
    - device: "panda_02"
      pos: [ 0.3, 0, 0.4 ]
      ax_angle: [ 0, 1, 0, 3.1415927 ]
      grip: "CLOSED"
- id: 7
  description: "move panda_01 to handover position"
  targets:
    - device: "panda_01"
      pos: "wp_6 + [0, -0.2, 0]"
      quat: "wp_6"
      grip: "OPEN"
    - device: "panda_02"
      ee_target: "wp_6"
- id: 8
  description: "close gripper panda_01"
  targets:
    - device: "panda_01"
      pos: "wp_7"
      quat: "wp_7"
      grip: "CLOSED"
    - device: "panda_02"
      ee_target: "wp_7"
- id: 9
  description: "open gripper panda_02"
  targets:
    - device: "panda_01"
      ee_target: "wp_8"
    - device: "panda_02"
      pos: "wp_8"
      quat: "wp_8"
      grip: "OPEN"
- id: 10
  description: "move up panda_02"
  targets:
    - device: "panda_01"
      ee_target: "wp_9"
    - device: "panda_02"
      pos: "wp_9 + [0, 0, 0.1]"
      quat: "wp_9"
      grip: "OPEN"
- id: 11
  description: "move towards home position"
  targets:
    - device: "panda_01"
      pos: "wp_1 + [0, 0, -0.2]"
      quat: "wp_1"
      grip: "CLOSED"
    - device: "panda_02"
      ee_target: "home_panda_02"
  max_duration: 3
  must_reach: False

#############################################################
# START DROP-OFF ############################################
#############################################################
- id: 12
  description: "move panda_01 above target position (1/2)"
  targets:
    - device: "panda_01"
      ee_target: "pre_drop_off_panda_01"
    - device: "panda_02"
      ee_target: "home_panda_02"
- id: 13
  description: "move panda_01 above target position (2/2)"
  targets:
    - device: "panda_01"
      pos: "wp_12 + [0, 0, -0.05]"
      quat: "wp_12"
      grip: "CLOSED"
    - device: "panda_02"
      ee_target: "home_panda_02"
- id: 14
  description: "open gripper panda_01"
  targets:
    - device: "panda_01"
      pos: "wp_13"
      quat: "wp_13"
      grip: "OPEN"
    - device: "panda_02"
      ee_target: "home_panda_02"




